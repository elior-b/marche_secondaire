<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>Accueil du site - Dauphine Second Market</title>
	<h:outputStylesheet library="css" name="bootstrap.min.css" />
	<h:outputStylesheet library="css" name="carousel.css" />
	<h:outputStylesheet library="css" name="bootstrap-theme.min.css" />
	<h:outputStylesheet library="css" name="navbar-fixed-top.css" />
	<h:outputStylesheet library="css" name="dashboard.css" />
	<h:outputStylesheet library="css" name="application.css" />

</h:head>

<h:outputScript library="js" name="jquery-2.1.3.min.js" />
<h:outputScript library="js" name="bootstrap.min.js" />
<h:outputScript library="js" name="docs.min.js" />
<h:outputScript library="js" name="application.js" />
<h:body>
	<ui:include src="Header.xhtml" />
	<div class="container-fluid">
		<div class="row">
			<ui:include src="Menu.xhtml" />
			<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
				<h:messages globalOnly="true" infoClass="info" />
				<h2>
					<h:graphicImage value="/resources/img/plot.png" class="img-title"
						alt="form" />
					Panneau d'administration
				</h2>
				<ul class="nav nav-tabs">
					<li role="presentation" class="active"><a href="#"
						data-id="admin-societes">Societes</a></li>
					<li role="presentation"><a href="#"
						data-id="admin-investisseurs">Investisseurs</a></li>
					<li role="presentation"><a href="#" data-id="admin-membres">Membres
							Societes</a></li>
					<li role="presentation"><a href="#"
						data-id="admin-offres-achat">Offres Achat</a></li>
					<li role="presentation"><a href="#"
						data-id="admin-offres-vente">Offres Vente</a></li>
					<li role="presentation"><a href="#"
						data-id="admin-transactions">Transactions</a></li>
				</ul>
				<div class="row row-tab" id="admin-societes">
					<table class="table table-hover">
						<thead>
							<tr>
								<th>#</th>
								<th>Nom</th>
								<th>Secteur</th>
								<th>Adresse</th>
								<th>Dirigeant</th>
							</tr>
						</thead>
						<tbody>
							<ui:repeat value="#{societeSessionBean.listeSocietes}"
								var="liste">
								<tr>
									<th><h:form>
											<h:commandButton value="#{liste.id}"
												action="#{societeSessionBean.voirSocieteAdministrateur}">
												<f:param name="id" value="#{liste.id}" />
											</h:commandButton>
										</h:form></th>
									<td><h:outputText value="#{liste.nom}" /></td>
									<td><h:outputText value="#{liste.secteurActivite}" /></td>
									<td><h:outputText value="#{liste.adresse}" /></td>
									<td><h:outputText value="#{liste.dirigeant}" /></td>
								</tr>
							</ui:repeat>

						</tbody>
					</table>
				</div>
				<div class="row row-tab" id="admin-investisseurs">
					<table class="table table-hover">
						<thead>
							<tr>
								<th>#</th>
								<th>Nom</th>
								<th>Prénom</th>
								<th>Solde</th>
								<th>Login</th>
								<th>E-Mail</th>
							</tr>
						</thead>
						<tbody>
							<ui:repeat value="#{investisseurSessionBean.listeInvestisseurs}"
								var="liste">
								<tr>
									<th><h:outputText value="#{liste.id}" /></th>
									<td><h:outputText value="#{liste.nom}" /></td>
									<td><h:outputText value="#{liste.prenom}" /></td>
									<td><h:outputText value="#{liste.solde}" /></td>
									<td><h:outputText value="#{liste.login}" /></td>
									<td><h:outputText value="#{liste.email}" /></td>
								</tr>
							</ui:repeat>

						</tbody>
					</table>
				</div>
				<div class="row row-tab" id="admin-membres">
					<table class="table table-hover">
						<thead>
							<tr>
								<th>#</th>
								<th>Nom</th>
								<th>Prénom</th>
								<th>Login</th>
								<th>E-Mail</th>
								<th>Société</th>
							</tr>
						</thead>
						<tbody>
							<ui:repeat value="#{membreSocieteSessionBean.listeMembres}"
								var="liste">
								<tr>
									<th><h:outputText value="#{liste.id}" /></th>
									<td><h:outputText value="#{liste.nom}" /></td>
									<td><h:outputText value="#{liste.prenom}" /></td>
									<td><h:outputText value="#{liste.login}" /></td>
									<td><h:outputText value="#{liste.email}" /></td>
									<td><h:form>
											<h:commandButton value="#{liste.societe.id}"
												action="#{societeSessionBean.voirSocieteAdministrateur}">
												<f:param name="id" value="#{liste.societe.nom}" />
											</h:commandButton>
										</h:form></td>
								</tr>
							</ui:repeat>

						</tbody>
					</table>
				</div>
				<div class="row row-tab" id="admin-offres-achat">
					<table class="table table-hover">
						<thead>
							<tr>
								<th>#</th>
								<th>Type de contrat</th>
								<th>Société</th>
								<th>Type d'offre</th>
								<th>Quantité</th>
								<th>Prix</th>
								<th>Echéance</th>
							</tr>
						</thead>
						<tbody>
							<ui:repeat
								value="#{offreSessionBean.listeOffreAdministrateurAchat}"
								var="liste">
								<tr>
									<th><h:outputText value="#{liste.id}" /></th>
									<td><h:outputText value="#{liste.typeContrat.nom}" /></td>
									<td><h:outputText value="#{liste.societe.nom}" /></td>
									<td><h:outputText value="#{liste.typeOffre.nom}" /></td>
									<td><h:outputText value="#{liste.quantite}" /></td>
									<td><h:outputText value="#{liste.prix}" /></td>
									<td><h:outputText value="#{liste.echeance}" /></td>
								</tr>
							</ui:repeat>

						</tbody>
					</table>
				</div>
				<div class="row row-tab" id="admin-offres-vente">
					<table class="table table-hover">
						<thead>
							<tr>
								<th>#</th>
								<th>Type de contrat</th>
								<th>Société</th>
								<th>Type d'offre</th>
								<th>Quantité</th>
								<th>Prix</th>
								<th>Echéance</th>
							</tr>
						</thead>
						<tbody>
							<ui:repeat
								value="#{offreSessionBean.listeOffreAdministrateurVente}"
								var="liste">
								<tr>
									<th><h:outputText value="#{liste.id}" /></th>
									<td><h:outputText value="#{liste.contrat.typeContrat.nom}" /></td>
									<td><h:outputText value="#{liste.contrat.societe.nom}" /></td>
									<td><h:outputText value="#{liste.typeOffre.nom}" /></td>
									<td><h:outputText value="#{liste.quantite}" /></td>
									<td><h:outputText value="#{liste.prix}" /></td>
									<td><h:outputText value="#{liste.echeance}" /></td>
								</tr>
							</ui:repeat>

						</tbody>
					</table>
				</div>
				<div class="row row-tab" id="admin-transactions">
					<table class="table table-hover">
						<thead>
							<tr>
								<th>#</th>
								<th>Emetteur</th>
								<th>Recepteur</th>
								<th>Date</th>
								<th>Quantite</th>
								<th>Offre</th>
							</tr>
						</thead>
						<tbody>

							<ui:repeat
								value="#{transactionSessionBean.listeAdministrateurTransactions}"
								var="liste">
								<tr>
									<th><h:outputText value="#{liste.id}" /></th>
									<td><h:outputText
											value="#{liste.offre.investisseur.nom} #{liste.offre.investisseur.prenom}" /></td>
									<td><h:outputText
											value="#{liste.investisseur.nom} #{liste.investisseur.prenom}" /></td>
									<td><h:outputText value="#{liste.date}" /></td>
									<td><h:outputText value="#{liste.offre.quantite}" /></td>
									<td><h:form>
											<h:commandButton value="#{liste.offre.id}">
												<f:param name="id" value="#{liste.offre.id}" />
												<c:if test="#{liste.offre.type eq 0}">
													<f:param name="type" value="achat" />
												</c:if>
												<c:if test="#{liste.offre.type eq 1}">
													<f:param name="type" value="vente" />
												</c:if>
											</h:commandButton>
										</h:form></td>

								</tr>

							</ui:repeat>

						</tbody>
					</table>
				</div>


			</div>
		</div>

	</div>
</h:body>
</html>